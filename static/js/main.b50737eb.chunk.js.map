{"version":3,"sources":["services/apiService.js","components/SearchBar/SearchForm.jsx","components/SearchBar/SearchBar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/LoarMore/LoadMore.jsx","components/App.js","index.js"],"names":["searchQuery","page","axios","get","then","response","data","hits","INIT","SearchForm","state","handleChange","e","preventDefault","setState","target","name","value","handleSubmit","props","updateQuery","className","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","Component","SearchBar","ImageGalleryItem","picture","data-src","largeImageURL","src","webformatURL","alt","id","ImageGallery","pictures","map","key","LoadMore","loadMorePictures","onClick","App","query","isLoading","error","updateState","resetBeforeNewQuery","prevProps","prevState","snapshot","length","window","scrollTo","top","document","body","scrollHeight","behavior","apiService","concat","catch","finally","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b50737eb.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst fetchPicturesWithQuery = ( searchQuery, page ) => {\n  const apiKey = `15321800-0af55316b9677918b25647eb1`;\n\n  return axios\n    .get(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&key=${apiKey}&q=${searchQuery}&page=${page}`)\n    .then(response => response.data.hits);\n};\n\nexport default {\n  fetchPicturesWithQuery,\n};","import React, { Component } from 'react';\n\nconst INIT = {\n  searchQuery: '',\n};\n\nclass SearchForm extends Component {\n  state = {\n    ...INIT\n  };\n\n  handleChange = (e) => {\n    e.preventDefault();\n\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.updateQuery(this.state.searchQuery)\n  };\n\n  render() {\n    return (\n      <form className=\"search-form\" onSubmit={ this.handleSubmit }>\n        <button type=\"submit\" className=\"search-form__button\">\n          <span className=\"search-form__button-label\">Search</span>\n        </button>\n        <input\n          onChange={ this.handleChange }\n          name=\"searchQuery\"\n          className=\"search-form__input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    )\n  }\n}\n\nexport default SearchForm;","import React from 'react';\nimport SearchForm from './SearchForm';\n\nconst SearchBar = ({ updateQuery }) => (\n  <header className=\"search-bar\">\n    <SearchForm updateQuery={updateQuery}/>\n  </header>\n);\n\nexport default SearchBar;","import React from 'react';\n\nconst ImageGalleryItem = ({ picture }) => (\n  <>\n    <img data-src={ picture.largeImageURL }\n         src={ picture.webformatURL }\n         alt={ picture.id }\n         className=\"image-gallery__img\"\n    />\n  </>\n);\n\nexport default ImageGalleryItem;","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nconst ImageGallery = ({ pictures }) => (\n  <ul className=\"image-gallery\">\n    {pictures.map(picture => (\n      <li className=\"image-gallery__item\" key={ picture.id }>\n        <ImageGalleryItem picture={ picture }/>\n      </li>\n    ))}\n  </ul>\n);\n\nexport default ImageGallery;","import React from 'react';\n\nconst LoadMore = ({ page, loadMorePictures }) => (\n  <div className=\"load-more\" >\n    <button className=\"load-more__btn\" onClick={ () => loadMorePictures(page) }>load</button>\n  </div>\n);\n\nexport default LoadMore;","import React, { Component } from 'react';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\nimport Loader from 'react-loader-spinner'\nimport apiService from '../services/apiService';\nimport SearchBar from './SearchBar/SearchBar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport LoadMore from './LoarMore/LoadMore';\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    query: '',\n    page: 1,\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.pictures !== this.state.pictures && this.state.pictures.length > 12) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n\n    if (prevState.query !== this.state.query || prevState.page !== this.state.page) {\n      this.setState({ isLoading: true });\n\n      apiService\n        .fetchPicturesWithQuery(this.state.query, this.state.page)\n        .then(pictures =>\n          this.setState(state => ({\n            pictures: state.pictures.concat(pictures)\n          })\n        ))\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  };\n\n  updateState = ( state, value ) => {\n    this.setState({\n      [state]: value\n    })\n  };\n\n  updateQuery = ( value ) => {\n    value !== this.state.query && this.resetBeforeNewQuery();\n    this.updateState('query', value);\n  };\n\n  loadMorePictures = ( value ) => {\n    value++;\n    this.updateState('page', value);\n  };\n\n  resetBeforeNewQuery = () => {\n    this.updateState('page', 1);\n    this.updateState('pictures', []);\n  };\n\n  render() {\n    return (\n      <div className=\"page-container\">\n        <SearchBar updateQuery={ this.updateQuery }/>\n        {this.state.pictures.length > 0 && (\n          <ImageGallery pictures={ this.state.pictures }/>\n        )}\n        {this.state.isLoading && (\n          <Loader className=\"loader\" type=\"ThreeDots\" color=\"#e4e4e4\" height={80} width={80} />\n        )}\n        {this.state.pictures.length >= 12 && (\n          <LoadMore page={this.state.page} loadMorePictures={ this.loadMorePictures }/>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default App;","import './sass/index.sass';\nimport App from './components/App';\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}